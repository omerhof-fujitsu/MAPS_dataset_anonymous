{
  "problem": "$n$ を $3$ 以上の正の整数とします。$a, b$ を、$ab$ が $n$ を法として逆元を持ち、$(ab)^{-1} \\equiv 2 \\pmod{n}$ を満たすような整数とします。$a + b$ が逆元を持つ場合、$(a+b)^{-1}(a^{-1} + b^{-1})$ を $n$ で割ったときの余りはいくつでしょうか？",
  "solution": "すべての可逆な $x$ に対して $x\\cdot x^{-1}\\equiv 1\\pmod n$ が成り立つという事実は、次の巧妙な方法で使用できます: \\begin{align*}\n& (a+b)^{-1}(a^{-1}+b^{-1})\\\\\n\\equiv~ & (a+b)^{-1}(a^{-1}+b^{-1})(ab)(ab)^{-1}\\\\\n\\equiv~ & (a+b)^{-1}(a^{-1}ab + abb^{-1})(ab)^{-1}\\\\\n\\equiv~ & (a+b)^{-1}(a + b)(ab)^{-1}\\\\\n\\equiv~ & (ab)^{-1}\\\\\n\\equiv~ & \\boxed{2}\\pmod n\n\\end{align*}",
  "level": "Level 5",
  "type": "Number Theory"
}